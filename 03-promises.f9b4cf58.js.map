{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACZC,KAAMC,SAASC,cAAc,aAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAMhC,SAASI,EAAcC,EAAUJ,GAChC,OAAO,IAAIK,SAAQ,SAACC,EAASC,GAC5B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACNH,EACHF,EAAQ,CAACF,WAAUJ,UAEnBO,EAAO,CAACH,WAAUJ,S,GAEjBA,E,IAZLJ,EAAKC,KAAKe,iBAAiB,UAgB3B,SAAyBC,GACxBA,EAAEC,iBAMF,IAJA,IAAIC,EAAaC,OAAOpB,EAAKI,MAAMiB,OAC/BhB,EAAOe,OAAOpB,EAAKK,KAAKgB,OACxBf,EAASc,OAAOpB,EAAKM,OAAOe,OAEvBC,EAAI,EAAGA,GAAKhB,EAAQgB,GAAK,EAAE,CAGnCf,EAAce,EAFDH,EAAad,EAAOiB,GAGhCC,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUJ,EAAKoB,EAALpB,MAClBqB,EAAA3B,GAAS4B,OAAOC,QAAQ,uBAAwCC,OAAfpB,EAAS,QAAYoB,OAANxB,EAAM,M,IAEtEyB,OAAM,SAAAL,G,IAAGhB,EAAQgB,EAARhB,SAAUJ,EAAKoB,EAALpB,MACnBqB,EAAA3B,GAAS4B,OAAOI,QAAQ,sBAAqCF,OAAfpB,EAAS,QAAYoB,OAANxB,EAAM,M,IAGrEa,EAAEc,cAAcC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n\tform: document.querySelector('form.form'),\n\tdelay: document.querySelector('[name=\"delay\"]'),\n\tstep: document.querySelector('[name=\"step\"]'),\n\tamount: document.querySelector('[name=\"amount\"]'),\n};\n\nrefs.form.addEventListener('submit', onPromiseCreate);\n\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst shouldResolve = Math.random() > 0.3;\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve({position, delay});\n\t\t\t} else {\n\t\t\t\treject({position, delay});\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n\nfunction onPromiseCreate(e){\n\te.preventDefault();\n\n\tlet firstDelay = Number(refs.delay.value);\n\tlet step = Number(refs.step.value);\n\tlet amount = Number(refs.amount.value);\n\n\tfor (let i = 1; i <= amount; i += 1){\n\t\tlet delayP = firstDelay + step * i;\n\n\t\tcreatePromise(i, delayP)\n\t\t.then(({ position, delay }) => {\n\t\t\tNotiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\t\t})\n\t\t.catch(({ position, delay }) => {\n\t\t\tNotiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\t\t});\n\t}\n\te.currentTarget.reset();\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","firstDelay","Number","value","i","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","currentTarget","reset"],"version":3,"file":"03-promises.f9b4cf58.js.map"}