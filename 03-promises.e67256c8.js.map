{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACZC,KAAMC,SAASC,cAAc,aAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,KAAMH,SAASC,cAAc,iBAC7BG,OAAQJ,SAASC,cAAc,oBAMhC,SAASI,EAAcC,EAAUJ,GAChC,OAAO,IAAIK,SAAQ,CAACC,EAASC,KAC5B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACNH,EACHF,EAAQ,C,SAACF,E,MAAUJ,IAEnBO,EAAO,C,SAACH,E,MAAUJ,GAAO,GAExBA,EAAM,G,CAZXJ,EAAKC,KAAKe,iBAAiB,UAgB3B,SAAyBC,GACxBA,EAAEC,iBAEF,IAAIC,EAAaC,OAAOpB,EAAKI,MAAMiB,OAC/BhB,EAAOe,OAAOpB,EAAKK,KAAKgB,OACxBf,EAASc,OAAOpB,EAAKM,OAAOe,OAEhC,IAAK,IAAIC,EAAI,EAAGA,GAAKhB,EAAQgB,GAAK,EAAE,CAGnCf,EAAce,EAFDH,EAAad,EAAOiB,GAGhCC,MAAK,EAACf,SAAEA,EAAQJ,MAAEA,MAClBoB,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAqBlB,QAAiBJ,MAAU,IAExEuB,OAAM,EAACnB,SAAEA,EAAQJ,MAAEA,MACnBoB,EAAA1B,GAAS2B,OAAOG,QAAQ,sBAAoBpB,QAAeJ,MAAU,G,CAGvEa,EAAEY,cAAcC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n\tform: document.querySelector('form.form'),\n\tdelay: document.querySelector('[name=\"delay\"]'),\n\tstep: document.querySelector('[name=\"step\"]'),\n\tamount: document.querySelector('[name=\"amount\"]'),\n};\n\nrefs.form.addEventListener('submit', onPromiseCreate);\n\n\nfunction createPromise(position, delay) {\n\treturn new Promise((resolve, reject) => {\n\t\tconst shouldResolve = Math.random() > 0.3;\n\t\tsetTimeout(() => {\n\t\t\tif (shouldResolve) {\n\t\t\t\tresolve({position, delay});\n\t\t\t} else {\n\t\t\t\treject({position, delay});\n\t\t\t}\n\t\t}, delay);\n\t});\n}\n\nfunction onPromiseCreate(e){\n\te.preventDefault();\n\n\tlet firstDelay = Number(refs.delay.value);\n\tlet step = Number(refs.step.value);\n\tlet amount = Number(refs.amount.value);\n\n\tfor (let i = 1; i <= amount; i += 1){\n\t\tlet delayP = firstDelay + step * i;\n\n\t\tcreatePromise(i, delayP)\n\t\t.then(({ position, delay }) => {\n\t\t\tNotiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\t\t})\n\t\t.catch(({ position, delay }) => {\n\t\t\tNotiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n\t\t});\n\t}\n\te.currentTarget.reset();\n}"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","delay","step","amount","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","firstDelay","Number","value","i","then","$parcel$interopDefault","Notify","success","catch","failure","currentTarget","reset"],"version":3,"file":"03-promises.e67256c8.js.map"}